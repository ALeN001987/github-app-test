# .eslintrc.yml (test repo)
root: true

env:
  node: true
  es2021: true

# Generic options for JS; TS gets its own parser in overrides
parserOptions:
  ecmaVersion: latest
  sourceType: module

plugins:
  - "@typescript-eslint"

extends:
  - eslint:recommended
  - plugin:@typescript-eslint/recommended
  - prettier

# Optional: tighten up lint hygiene
reportUnusedDisableDirectives: true

# Ignore usual build artifacts (ESLint already ignores node_modules by default)
ignorePatterns:
  - dist/**
  - build/**
  - coverage/**

overrides:
  # TypeScript anywhere in the repo (src/**, ts/**, etc.)
  - files:
      - "**/*.ts"
      - "**/*.tsx"
      - "**/*.cts"
      - "**/*.mts"
    parser: "@typescript-eslint/parser"
    parserOptions:
      ecmaVersion: latest
      sourceType: module
      # If you have tsconfigs and want type-aware rules later, uncomment:
      # project:
      #   - "./tsconfig.json"
      #   - "./src/tsconfig.json"
      # tsconfigRootDir: .
    plugins:
      - "@typescript-eslint"
    extends:
      - plugin:@typescript-eslint/recommended
      - prettier
    rules:
      # TS-specific tweaks (adjust to taste)
      "@typescript-eslint/no-unused-vars":
        - warn
        - argsIgnorePattern: "^_"
          varsIgnorePattern: "^_"
      "@typescript-eslint/explicit-module-boundary-types": "off"

  # Optional: commonjs JS files (if you have any) can get special casing
  - files:
      - "**/*.cjs"
    parserOptions:
      sourceType: script